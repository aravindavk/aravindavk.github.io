
<!DOCTYPE HTML>
<html lang="en">
    <head>
    <meta charset="utf-8">
    
    <title>GlusterFS Tools - Aravinda Vishwanathapura</title>
    
    <meta name="generator" content="Nanoc 4.12.10">
    <link rel="apple-touch-icon" sizes="300x300" href="/images/me_fav.png">
    <link rel="icon" type="image/png" sizes="300x300" href="/images/me_fav.png">
    <link rel="stylesheet" href="/bulma-0.9.4.min.css">
    <link rel="stylesheet" href="/pygment-emacs-highlight.css">
    <link rel="stylesheet" href="/stylesheet.css">
    <script defer src="/alpinejs-3.10.5.min.js"></script>
    
    <meta property="og:title" content="GlusterFS Tools"/>
    <meta name="author" content=""/>
    <meta property="og:locale" content="en_US"/>
    <meta name="description" content="A wrapper around GlusterFS CLI tool"/>
    <meta property="og:description" content="A wrapper around GlusterFS CLI tool"/>
    <link rel="canonical" href="/blog/glusterfs-tools/"/>
    <meta property="og:url" content="/blog/glusterfs-tools/"/>
    <meta property="og:site_name" content="Kadalu"/>
    <meta property="og:image" content=""/>
    <meta property="og:type" content="article"/>
    <meta property="article:published_time" content="2013-06-18"/>
    
    <meta name="twitter:card" content="summary"/>
    
    <meta name="twitter:site" content="https://kadalu.tech"/>
    <meta name="twitter:title" content="GlusterFS Tools"/>
    <meta name="twitter:description" content="A wrapper around GlusterFS CLI tool"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script defer data-domain="aravindavk.in" src="https://plausible.io/js/plausible.js"></script>
</head>

    <body>
        <div id="main" class="container is-max-desktop px-4">
            <nav class="has-text-centered mb-6">
    <a class="link is-info is-inline-block px-2" href="/blog">Blog Posts</a>
    <a class="link is-info is-inline-block px-2" href="/talks">Talks & Articles</a>
    <a class="link is-info is-inline-block px-2" href="/projects">Projects</a>
</nav>
<div class="has-text-centered py-6">
    <a href="/">
        <figure class="image is-64x64" style="margin: auto">
            <img class="is-rounded" src="/images/me.jpg">
        </figure>
        <p class="has-text-grey pb-6 is-size-6">ARAVINDA VISHWANATHAPURA</p>
    </a>
</div>

            <div class="has-text-centered">
                <h1 class="title">GlusterFS Tools</h1>
                <div class="">Jun 18, 2013</div>
                <div class=""><strong>2 minutes</strong> read</div>
                <div>
                    
                    <span class="tag is-info is-light">glusterfs</span>
                    
                    <span class="tag is-info is-light">tools</span>
                    
                    <span class="tag is-info is-light">glusterfsblog</span>
                    
                </div>
            </div>
            <div class="content py-6">
                <div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>raw:: html</p>
<div class="literalblock">
<div class="content">
<pre>&lt;div class="notice-update"&gt;
UPDATE: &lt;br/&gt;Installation and usage is simplified with the new release of glusterfs-tools, refer &lt;a href="http://aravindavk.in/blog/glusterdf-df-for-gluster-volumes/"&gt;this blog&lt;/a&gt; for more details.
&lt;/div&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>From `GlusterFS website &lt;<a href="http://gluster.org&gt;`__" class="bare">http://gluster.org&gt;`__</a></p>
</div>
<div class="literalblock">
<div class="content">
<pre>GlusterFS is an open source, distributed file system capable of scaling to several petabytes (actually, 72 brontobytes!) and handling thousands of clients. GlusterFS clusters together storage building blocks over Infiniband RDMA or TCP/IP interconnect, aggregating disk and memory resources and managing data in a single global namespace. GlusterFS is based on a stackable user space design and can deliver exceptional performance for diverse workloads.</pre>
</div>
</div>
<div class="paragraph">
<p>Gluster CLI has limited features to view and filter the volume info. I started a small project to enhance Gluster CLI for personal use. As of now it consists of a tool to list Gluster volumes in tabular format. Other intersesting features includes filtering the output based on name, type, status, bricks etc.</p>
</div>
<div class="paragraph">
<p>Clone the project(I cloned it to :code:`/home/aravinda/sandbox/`)</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>code-block:: bash</p>
<div class="literalblock">
<div class="content">
<pre>cd /home/aravinda/sandbox
git clone https://github.com/aravindavk/glusterfs-tools.git</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Create a shellscript to call gftools /usr/local/bin/gfvolumes</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>code-block:: bash</p>
<div class="literalblock">
<div class="content">
<pre>#!/bin/bash
python /home/aravinda/sandbox/glusterfs-tools/gftools/volumes.py "$@"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Make gfvolumes executable</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>code-block:: bash</p>
<div class="literalblock">
<div class="content">
<pre>chmod +x /usr/local/bin/gfvolumes</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now we can run :code:`sudo gfvolumes` to see the list of glusterfs volumes. Type :code:`gfvolumes --help` for help.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>figure:: /images/glusterfs/all_volumes.png
:alt: All Volumes</p>
<div class="literalblock">
<div class="content">
<pre>All Volumes</pre>
</div>
</div>
</li>
<li>
<p>figure:: /images/glusterfs/name_filter.png
:alt: Name Filter</p>
<div class="literalblock">
<div class="content">
<pre>Name Filter</pre>
</div>
</div>
</li>
<li>
<p>figure:: /images/glusterfs/status_filter.png
:alt: Status Filter</p>
<div class="literalblock">
<div class="content">
<pre>Status Filter</pre>
</div>
</div>
</li>
<li>
<p>figure:: /images/glusterfs/type_filter.png
:alt: Type Filter</p>
<div class="literalblock">
<div class="content">
<pre>Type Filter</pre>
</div>
</div>
</li>
<li>
<p>figure:: /images/glusterfs/show_bricks.png
:alt: Name Filter</p>
<div class="literalblock">
<div class="content">
<pre>Show Bricks</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Additionally it can output filtered details in JSON format.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>figure:: /images/glusterfs/json_format.png
:alt: Name Filter</p>
<div class="literalblock">
<div class="content">
<pre>JSON Format</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>We can easily import this in our python script.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>code-block:: python</p>
<div class="literalblock">
<div class="content">
<pre>#!/usr/bin/python
from gftools import volumes
gfvols = volumes.GfVolumes()
ok, vols = gfvols.get(name='^gv[0-9]$', status='down') # Various filters available
if ok:
    # Do action</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note:</strong> root permission is required to run gluster command, so run gfvolumes as root(:code:`sudo gfvolumes`)</p>
</div>
<h1 id="_future_plans" class="sect0">Future plans:</h1>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding more filters</p>
</li>
<li>
<p>Adding more admin tools</p>
</li>
<li>
<p>Creating RPM/DEB packages</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>C &amp; S Welcome.</p>
</div>
            </div>
        </div>
        <footer class="footer has-background-white-bis mt-6">
    <div class="content has-text-centered">
        <p>
            Copyright &copy; 2022 <strong>Aravinda Vishwanathapura</strong>.
        </p>
    </div>
</footer>

    </body>
</html>
